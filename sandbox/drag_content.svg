
<svg version="1.1" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="800" height="540" onload="init(evt)" onmousemove="drag(evt)" onmouseup="deselect()">
        <style>
        .point1{
            fill: #28A86B;
        }
        .point2{
            fill: #6495ED;
        }
		text {
		  font-size: 20px;
		  cursor: default;
		  font-family: Tahoma, Geneva, sans-serif;
		}
        .control_point{
            fill: #FFF;
            opacity: 0;
            stroke: #888;
            stroke-width: 2;
            cursor: pointer;
        }
		.moveable{
			cursor: move;	
		}
		.locked {
			cursor: default;	
		}
        .control_point:hover{
            opacity: 0.5;
        }
        .invisible{
            pointer-events: none;
        }
    </style>
    <script type="text/ecmascript"><![CDATA[
        var svgDoc;
        var selectedPoint = 0;
        var dx = 0;
        var dy = 0;
        
        var example_shape;
        var coords = [0, 0, 400, 300, 400, 200, 400, 100];
		var locked = [0, 0, 220, 200, 220, 40, 220, 380];
    	function lockPosition(evt, point){			
			evt.target.removeAttribute('onmousedown');
			evt.target.removeAttribute('onmouseup');
			var x = locked[point*2];
			var y = locked[point*2+1];
			var xo = coords[point*2];
			var yo = coords[point*2+1];
			if (Math.abs(yo-y) < 50){
				document.getElementById(point).setAttribute('fill','green');
			} else {
				if (yo < y){
					 document.getElementById(point).setAttribute('fill','rgb(200,60,50)');
				 } else {
					 document.getElementById(point).setAttribute('fill','rgb(28,105,180)');
				 }
			}
			sweepMove(evt.target.parentNode, x, y, xo, yo);
			evt.target.parentNode.setAttribute('class','locked');
		}
        function init(evt) {
            if ( window.svgDocument == null ) {
                svgDoc = evt.target.ownerDocument;
            }  
            example_shape = svgDoc.getElementById('example_shape');
        };
        
        function selectElement(evt, point){
            selectedPoint = point;
            control_point = evt.target.parentNode;
            dx = coords[selectedPoint*2] - evt.clientX;
            dy = coords[selectedPoint*2 + 1] - evt.clientY;
        };
        
        function drag(evt){
            if (selectedPoint === 0) { return; }
            var x = evt.clientX + dx;
            var y = evt.clientY + dy;
			if (y > 450){
				y = 450;
			}
			if (y < 0){
				y = 0;
			}
			if (x > 700){
				x = 700;
			}
            coords[selectedPoint*2] = x;
            coords[selectedPoint*2 + 1] = y;
            
            control_point.setAttributeNS(null, "transform", "translate(" + x + "," + y + ")");
        };
        
		function sweepMove(evt, x, y, xo, yo){
			var i = 0;
			var numSteps = 20;
		    var sweepCount = setInterval(function () {   
		    	if (i < numSteps){
				var xnew = (x*(i+1)+xo*(numSteps-1-i))/numSteps;
				var ynew = (y*(i+1)+yo*(numSteps-1-i))/numSteps;
				evt.setAttributeNS(null, "transform", "translate(" + xnew + "," + ynew + ")");
				i++
				} else {
                   clearInterval(sweepCount);
				}}, 20);}
		
        function deselect(){
            selectedPoint = 0;
        }
    
    ]]> </script>
	<defs>
	    <linearGradient id="temperature" x1="0%" y1="0%" x2="0%" y2="100%">
	      <stop offset="0%" style="stop-color:rgb(200,60,50);stop-opacity:1" />
	      <stop offset="50%" style="stop-color:rgb(240,230,125);stop-opacity:1" />
	      <stop offset="100%" style="stop-color:rgb(28,105,180);stop-opacity:1"/>
	    </linearGradient>
	  </defs>
	
	<g id="thermometer">
		<path d="M50 50 v350 a50,50 0 1,0 60,0 v-350 a30,30 0 1,0 -60,0" fill="url(#temperature)" stroke="black"/>
	</g>
	
    <g transform="translate(400,100)" class='moveable'>
        <circle class="control_point" cx="0" cy="0" r="10"/>
		<path d="M80 0 a100,20 0 1,0 20,70z" fill="white" stroke='#01b29F' stroke-width='3' id='3'/>
		<text y='40'>Laker</text>
		<path d="M80 0 a100,20 0 1,0 20,70z" opacity='0' onmousedown="selectElement(evt, 3)"  onmouseup="lockPosition(evt,3)"/>
    </g>
	
    <g transform="translate(400,300)" class='moveable'>
        <circle class="control_point" cx="0" cy="0" r="10"/>
		<path d="M80 0 a100,20 0 1,0 20,70z" fill="white" stroke='#01b29F' stroke-width='3' id='1'/>
		<text y='40'>Wally</text>
		<path d="M80 0 a100,20 0 1,0 20,70z" opacity='0' onmousedown="selectElement(evt, 1)"  onmouseup="lockPosition(evt,1)"/>
    </g>
	
    <g transform="translate(400,200)" class='moveable'>
        <circle class="control_point" cx="0" cy="0" r="10"/>
		<path d="m -84.380212,4.5133995 4.602557,-4.21901102 7.670929,-6.13674198 9.58866,-3.835464 19.177321,-10.7392995 c 0,0 15.341852,-4.986104 23.012782,-5.36965 7.67093,-0.383547 1.91773,-4.986104 1.91773,-4.986104 l 2.68483,0.383547 0.38355,-3.835465 2.68482,2.684825 4.2190103,-4.986103 0.76709,3.451918 4.60256,-6.136743 1.53419,-1.150639 1.5341800262923,0 -1.5341800262923,4.602557 5.36965,-2.684825 1.53418,1.917732 -1.53418,3.068371 4.60255,-0.767093 -0.38354,3.068372 2.6848197,0 0.7671,2.301278 3.06837,-0.767093 1.53418,1.917733 0.38355,0.767092 2.68482,0 1.53419,1.15064 c 0,0 8.43802,-8.054475 18.02668,-10.7393 9.58866,-2.684825 19.17732,1.534186 19.17732,1.534186 0,0 5.7532,2.684825 6.13674,8.054474 0.38355,5.36965 0.7671,8.054475 -0.76709,9.588661 -1.53418,1.534185 -8.82157,2.684825 -8.82157,2.684825 l -0.38354,2.684825 c 0,0 6.13674,2.6848245 15.34185,1.917732 9.20512,-0.767093 9.58866,-0.767093 9.58866,-0.767093 l 9.97221,-5.753196 c 0,0 12.657033,-7.670929 17.259593,-8.054475 4.60256,-0.383547 5.7532,0 5.7532,0 0,0 4.9861,5.753196 4.60255,9.205114 -0.38354,3.451918 -5.75319,8.8215675 -6.90383,11.8899395 -1.15064,3.06837098 0.76709,6.520289 0.76709,6.520289 0,0 4.60256,6.520286 4.60256,9.9722055 0,3.45192 -1.15064,7.67093 -3.06837,8.82157 -1.91774,1.15064 -6.52029,1.53418 -8.05448,1.15064 -1.53418,-0.38355 -22.245693,-11.5064 -22.245693,-11.5064 0,0 -11.50639,-2.6848195 -19.17732,-1.9177295 -7.67093,0.7670995 -7.28738,2.3012795 -7.28738,2.3012795 l 8.43802,2.68483 c 0,0 2.68482,1.15064 2.68482,2.68482 0,1.53419 -0.76709,9.20511 -3.06837,11.88994 -2.30128,2.68482 -5.7532,5.7532 -10.35575,5.7532 -4.60256,0 -11.88994,-3.45192 -11.88994,-3.45192 L 27.615337,25.992 26.081157,23.30717 c 0,0 -2.30128,1.53419 -12.27349,2.68483 -9.9721997,1.15064 -30.30016,-0.76709 -30.30016,-0.76709 0,0 7.2873803,1.91773 8.4380203,3.45191 1.15064,1.53419 1.15064,4.98611 1.15064,4.98611 0,0 0.38354,2.68482 1.15064,4.21901 0.76709,1.53418 0.76709,5.36965 -1.15064,4.9861 -1.91773,-0.38355 -10.3557603,-4.9861 -13.0405803,-8.43802 -2.68483,-3.45192 -5.36965,-7.28738 -5.36965,-7.28738 0,0 -17.25959,0.76709 -19.560868,-0.38355 -2.301278,-1.15064 -14.191217,-4.60256 -14.191217,-4.60256 0,0 -5.753196,-0.38354 -9.205114,-1.15063 -3.451918,-0.7671 -9.972207,-4.60256 -9.972207,-4.60256 l -6.520289,-5.7532 c 0,0 -1.917732,-0.38354 -2.301278,-1.9177295 -0.383547,-1.534186 2.684824,-4.219011 2.684824,-4.219011 z" fill="white" stroke='#01b29F' stroke-width='3' id='2'/>
		<text dy='0.33em'>Bass</text>
		<path d="m -84.380212,4.5133995 4.602557,-4.21901102 7.670929,-6.13674198 9.58866,-3.835464 19.177321,-10.7392995 c 0,0 15.341852,-4.986104 23.012782,-5.36965 7.67093,-0.383547 1.91773,-4.986104 1.91773,-4.986104 l 2.68483,0.383547 0.38355,-3.835465 2.68482,2.684825 4.2190103,-4.986103 0.76709,3.451918 4.60256,-6.136743 1.53419,-1.150639 1.5341800262923,0 -1.5341800262923,4.602557 5.36965,-2.684825 1.53418,1.917732 -1.53418,3.068371 4.60255,-0.767093 -0.38354,3.068372 2.6848197,0 0.7671,2.301278 3.06837,-0.767093 1.53418,1.917733 0.38355,0.767092 2.68482,0 1.53419,1.15064 c 0,0 8.43802,-8.054475 18.02668,-10.7393 9.58866,-2.684825 19.17732,1.534186 19.17732,1.534186 0,0 5.7532,2.684825 6.13674,8.054474 0.38355,5.36965 0.7671,8.054475 -0.76709,9.588661 -1.53418,1.534185 -8.82157,2.684825 -8.82157,2.684825 l -0.38354,2.684825 c 0,0 6.13674,2.6848245 15.34185,1.917732 9.20512,-0.767093 9.58866,-0.767093 9.58866,-0.767093 l 9.97221,-5.753196 c 0,0 12.657033,-7.670929 17.259593,-8.054475 4.60256,-0.383547 5.7532,0 5.7532,0 0,0 4.9861,5.753196 4.60255,9.205114 -0.38354,3.451918 -5.75319,8.8215675 -6.90383,11.8899395 -1.15064,3.06837098 0.76709,6.520289 0.76709,6.520289 0,0 4.60256,6.520286 4.60256,9.9722055 0,3.45192 -1.15064,7.67093 -3.06837,8.82157 -1.91774,1.15064 -6.52029,1.53418 -8.05448,1.15064 -1.53418,-0.38355 -22.245693,-11.5064 -22.245693,-11.5064 0,0 -11.50639,-2.6848195 -19.17732,-1.9177295 -7.67093,0.7670995 -7.28738,2.3012795 -7.28738,2.3012795 l 8.43802,2.68483 c 0,0 2.68482,1.15064 2.68482,2.68482 0,1.53419 -0.76709,9.20511 -3.06837,11.88994 -2.30128,2.68482 -5.7532,5.7532 -10.35575,5.7532 -4.60256,0 -11.88994,-3.45192 -11.88994,-3.45192 L 27.615337,25.992 26.081157,23.30717 c 0,0 -2.30128,1.53419 -12.27349,2.68483 -9.9721997,1.15064 -30.30016,-0.76709 -30.30016,-0.76709 0,0 7.2873803,1.91773 8.4380203,3.45191 1.15064,1.53419 1.15064,4.98611 1.15064,4.98611 0,0 0.38354,2.68482 1.15064,4.21901 0.76709,1.53418 0.76709,5.36965 -1.15064,4.9861 -1.91773,-0.38355 -10.3557603,-4.9861 -13.0405803,-8.43802 -2.68483,-3.45192 -5.36965,-7.28738 -5.36965,-7.28738 0,0 -17.25959,0.76709 -19.560868,-0.38355 -2.301278,-1.15064 -14.191217,-4.60256 -14.191217,-4.60256 0,0 -5.753196,-0.38354 -9.205114,-1.15063 -3.451918,-0.7671 -9.972207,-4.60256 -9.972207,-4.60256 l -6.520289,-5.7532 c 0,0 -1.917732,-0.38354 -2.301278,-1.9177295 -0.383547,-1.534186 2.684824,-4.219011 2.684824,-4.219011 z" opacity='0' onmousedown="selectElement(evt, 2)"  onmouseup="lockPosition(evt,2)"/>
    </g>

</svg>