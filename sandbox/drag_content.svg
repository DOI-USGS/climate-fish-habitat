
<svg version="1.1" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="800" height="540" onload="init(evt)" onmousemove="drag(evt)" onmouseup="deselect()">
        <style>
        .point1{
            fill: #28A86B;
        }
        .point2{
            fill: #6495ED;
        }

        .control_point{
            fill: #FFF;
            opacity: 0;
            stroke: #888;
            stroke-width: 2;
            cursor: pointer;
        }
        .control_point:hover{
            opacity: 0.5;
        }
        .invisible{
            pointer-events: none;
        }
    </style>
    <script type="text/ecmascript"><![CDATA[
        var svgDoc;
        var selectedPoint = 0;
        var dx = 0;
        var dy = 0;
        
        var example_shape;
        var coords = [0, 0, 400, 200, 150, 20];
		var locked = [0, 0, 200, 200, 200, 80];
    	function lockPosition(evt, point){			
			evt.target.removeAttribute('onmousedown');
			evt.target.removeAttribute('onmouseup');
			var x = locked[selectedPoint*2];
			var y = locked[selectedPoint*2+1];
			evt.target.parentNode.setAttributeNS(null, "transform", "translate(" + x + "," + y + ")");
		}
        function init(evt) {
            if ( window.svgDocument == null ) {
                svgDoc = evt.target.ownerDocument;
            }  
            example_shape = svgDoc.getElementById('example_shape');
        };
        
        function selectElement(evt, point){
            selectedPoint = point;
            control_point = evt.target.parentNode;
            dx = coords[selectedPoint*2] - evt.clientX;
            dy = coords[selectedPoint*2 + 1] - evt.clientY;
        };
        
        function drag(evt){
            if (selectedPoint === 0) { return; }
            var x = evt.clientX + dx;
            var y = evt.clientY + dy;
            coords[selectedPoint*2] = x;
            coords[selectedPoint*2 + 1] = y;
            
            control_point.setAttributeNS(null, "transform", "translate(" + x + "," + y + ")");
        };
        
        function deselect(){
            selectedPoint = 0;
        }
    
    ]]> </script>
	<defs>
	    <linearGradient id="temperature" x1="0%" y1="0%" x2="0%" y2="100%">
	      <stop offset="0%" style="stop-color:rgb(28,105,180);stop-opacity:1" />
	      <stop offset="50%" style="stop-color:rgb(240,230,125);stop-opacity:1" />
	      <stop offset="100%" style="stop-color:rgb(200,60,50);stop-opacity:1" />
	    </linearGradient>
	  </defs>
	
	<g id="thermometer">
		<path d="M50 50 v350 a50,50 0 1,0 60,0 v-350 a30,30 0 1,0 -60,0" fill="url(#temperature)" stroke="black"/>
	</g>
	
    <g transform="translate(400,200)" class='moveable'>
        <circle class="control_point" cx="0" cy="0" r="10"/>
        <circle class="point1 invisible" cx="0" cy="0" r="3" />
		<path d="M80 0 a100,50 0 1,0 20,70z" fill="#01b29F" onmousedown="selectElement(evt, 1)"  onmouseup="lockPosition(evt)" id='wally'/>
    </g>
	
	
	
    <g transform="translate(150,20)" >
        <circle class="control_point" cx="0" cy="0" r="10" onmousedown="selectElement(evt, 2)" />
        <circle class="point2 invisible" cx="0" cy="0" r="3" />
    </g>

</svg>